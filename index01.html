<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wedding Invite Animation</title>
<style>
body {
  background: linear-gradient(135deg, #111, #222);
  min-height: 200vh; /* ƒë·ªÉ c√≥ kh√¥ng gian cu·ªôn */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: start;
  overflow-x: hidden;
  color: #fff;
  font-family: "Dancing Script", cursive;
}

.section {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
}

.name-section {
  margin-top: 100px;
  text-align: center;
  font-size: 40px;
  line-height: 1.4;
  opacity: 0;
  transform: translateY(50px);
}

.main-photo {
  width: 300px;
  border-radius: 20px;
  margin-top: 150px;
  position: relative;
  z-index: 1;
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
}

.flower {
  position: absolute;
  width: 160px;
  top: -70px;
  right: -60px;
  transform-origin: center;
  z-index: 2;
}

.sparkle-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  pointer-events: none;
}

.sparkle {
  position: absolute;
  width: 8px;
  height: 8px;
  background: radial-gradient(circle, #fff, transparent);
  border-radius: 50%;
  opacity: 0;
}
</style>
</head>
<body>

<div class="section">
  <div class="name-section anim-names">
    <div>Tr·∫ßn L√™ ƒê·ª©c</div>
    <div>Tr·ªãnh H·∫±ng</div>
  </div>
</div>

<div class="section wrapper" style="position: relative;">
  <img src="https://res.cloudinary.com/storehue/image/upload/v1759986378/wedding/leduc-luna/DSCF5922_v6kokz.webp" class="main-photo anim-main" alt="main photo">
  <img src="./images/base/flower2.png" class="flower anim-flower" alt="flower">
  <div class="sparkle-container"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<script>
gsap.registerPlugin(ScrollTrigger);

document.addEventListener("DOMContentLoaded", () => {

  // ‚ú® Hi·ªáu ·ª©ng xu·∫•t hi·ªán t√™n c√¥ d√¢u ch√∫ r·ªÉ
  gsap.to(".anim-names", {
    scrollTrigger: {
      trigger: ".anim-names",
      start: "top 80%",
      toggleActions: "play none none none"
    },
    opacity: 1,
    y: 0,
    duration: 1.5,
    ease: "power3.out"
  });

  gsap.to(".anim-names div", {
    scrollTrigger: {
      trigger: ".anim-names",
      start: "top 80%"
    },
    opacity: 1,
    scale: 1.1,
    duration: 2,
    ease: "sine.inOut",
    yoyo: true,
    repeat: -1
  });

  // üå∏ Hi·ªáu ·ª©ng ·∫£nh ch√≠nh
  gsap.fromTo(".anim-main",
    { scale: 0.95, rotateZ: -5, opacity: 0 },
    {
      scrollTrigger: {
        trigger: ".anim-main",
        start: "top 85%",
        toggleActions: "play none none none"
      },
      scale: 1.05,
      rotateZ: 3,
      opacity: 1,
      duration: 1.8,
      ease: "power3.out",
      onComplete: () => {
        gsap.to(".anim-main", {
          scale: 1,
          rotateZ: 0,
          yoyo: true,
          repeat: -1,
          duration: 3,
          ease: "sine.inOut"
        });
      }
    }
  );

  // üåº Hi·ªáu ·ª©ng hoa
  gsap.fromTo(".anim-flower",
    { scale: 0.6, opacity: 0, rotateZ: 10 },
    {
      scrollTrigger: {
        trigger: ".anim-main",
        start: "top 85%",
        toggleActions: "play none none none"
      },
      scale: 1,
      opacity: 1,
      rotateZ: -5,
      duration: 1.5,
      ease: "back.out(1.7)",
      delay: 0.3,
      onComplete: () => {
        gsap.to(".anim-flower", {
          rotateZ: 5,
          yoyo: true,
          repeat: -1,
          duration: 3,
          ease: "sine.inOut"
        });
      }
    }
  );

  // üí´ T·∫°o sparkles
  const sparkleContainer = document.querySelector(".sparkle-container");
  for (let i = 0; i < 12; i++) {
    const s = document.createElement("div");
    s.classList.add("sparkle");
    sparkleContainer.appendChild(s);
    const x = Math.random() * 300;
    const y = Math.random() * 400;
    gsap.set(s, { x, y, opacity: 0.2 + Math.random() * 0.8, scale: 0.5 + Math.random() });
    animateSparkle(s);
  }

  function animateSparkle(el) {
    gsap.to(el, {
      x: "+=" + (Math.random() * 100 - 50),
      y: "+=" + (Math.random() * 100 - 50),
      opacity: 0.3 + Math.random() * 0.7,
      duration: 4 + Math.random() * 3,
      ease: "sine.inOut",
      yoyo: true,
      repeat: -1
    });
  }
});
</script>
</body>
</html>
